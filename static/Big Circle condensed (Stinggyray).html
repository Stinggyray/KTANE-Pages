<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Big Circle â€” Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/ruleseed.js"></script>
    <style type="text/css">
        .floater {
            margin-right: 10px;
        }

        .floater td {
            padding: 3px 5px;
            border: 1px solid black;
        }

        .table-container {
            display: flex;
        }

        #ruleset {
            white-space: nowrap;
        }

        h3 {
            clear: both;
        }

        @media screen and (max-width: 900px) {
            .extra-info {
                clear: left;
            }
        }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-03">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Big Circle</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Big Circle.svg" class="diagram">
                <h2>On the Subject of Brazenly Clicking Big Circle</h2>
                <p class="flavour-text">
                    Who had the brilliant idea of taking a hula-hoop and making it a module?
                </p>
                <h3 style="width: auto; display: inline;">Unicorn</h3>
                <p>If there are 5 batteries in 3 holders + a BOB indicator, then any valid solution for the serial numbers on bomb will be accepted.</p>
            <div class="table-container">
                <table class="floater">
                    <tbody>
                    <tr><th colspan="2">Rules</th></tr>
                    <tr><td id='indicator1'>BOB, CAR, CLR:</td><td id='indicatorscore1'>+1 if lit, -1 if unlit.</td></tr>
                    <tr><td id='indicator2'>FRK, FRQ, MSA, NSA</td><td id='indicatorscore2'>+2 if lit, -2 if unlit.</td></tr>
                    <tr><td id='indicator3'>SIG, SND, TRN</td><td id='indicatorscore3'>+3 if lit, -3 if unlit.</td></tr>
                    <tr><td>Solved modules:</td><td id='modulescore'>+3 each.</td></tr>
                    <tr><td id='rule4'># of batteries:</td><td id='rule4score'>+4 for odd, -4 for even.</td></tr>
                    <tr><td id='portplate1'>Port plates with parallel:</td><td id='portplatescore1'>+5 each, -4 if with serial.</td></tr>
                    <tr><td id='portplate2'>Port plates with DVI-D:</td><td id='portplatescore2'>-5 each, +4 if with RCA.</td></tr>
                    <tr><th colspan="2">Below is usually irrelevant</th></tr>
					<tr><td>Special indicators:</td><td id='specialindicatorscore'>+6 each.</td></tr>
					<tr><td>Special ports::</td><td id='specialportscore'>-6 each.</td></tr>
					<tr><td>Two Factor codes:</td><td id='twofactor'>Add the least significant digit.</td></tr>
                    </tbody>
                </table>
                <table id="ruleset">
                    <tbody>
                    <tr><th colspan="2" style="white-space: normal;">Start on 1st char of serial num<br>then go back and forth (mod 10)<br><br>If spinning CCW, reverse button presses</th></tr>
                    <tr><td class='serial-group'>0, 1, 2</td><td class='color-group'>Red, Yellow, Blue</td></tr>
                    <tr><td class='serial-group'>3, 4, 5</td><td class='color-group'>Orange, Green, Magenta</td></tr>
                    <tr><td class='serial-group'>6, 7, 8</td><td class='color-group'>Blue, Black, Red</td></tr>
                    <tr><td class='serial-group'>9, A, B</td><td class='color-group'>Magenta, White, Orange</td></tr>
                    <tr><td class='serial-group'>C, D, E</td><td class='color-group'>Orange, Blue, Black</td></tr>
                    <tr><td class='serial-group'>F, G, H</td><td class='color-group'>Green, Red, White</td></tr>
                    <tr><td class='serial-group'>I, J, K</td><td class='color-group'>Magenta, Yellow, Black</td></tr>
                    <tr><td class='serial-group'>L, M, N</td><td class='color-group'>Red, Orange, Yellow</td></tr>
                    <tr><td class='serial-group'>O, P, Q</td><td class='color-group'>Yellow, Green, Blue</td></tr>
                    <tr><td class='serial-group'>R, S, T</td><td class='color-group'>Blue, Magenta, Red</td></tr>
                    <tr><td class='serial-group'>U, V, W</td><td class='color-group'>Black, White, Green</td></tr>
                    <tr><td class='serial-group'>X, Y, Z</td><td class='color-group'>White, Yellow, Blue</td></tr>
                    </tbody>
                </table>
            </div>
            </div>
            <div class="page-footer relative-footer">Page 1 of 1</div>
        </div>
    </div>
    <script>
        /*
    var possibleColorSets = [
            ["Green", "Orange", "White"],
            ["Red", "Orange", "Green"],
            ["Red", "Orange", "Blue"],
            ["Red", "Orange", "Magenta"],
            ["Red", "Orange", "White"],
            ["Red", "Orange", "Black"],
            ["Red", "Yellow", "Orange"],
            ["Red", "Yellow", "Green"],
            ["Red", "White", "Blue"],
            ["Red", "Yellow", "Magenta"],
            ["Red", "Yellow", "White"],
            ["Red", "Yellow", "Black"],
            ["Red", "Green", "Orange"],
            ["Red", "Green", "Yellow"],
            ["Red", "Green", "Blue"],
            ["Red", "Green", "Magenta"],
            ["Red", "Green", "White"],
            ["Red", "Green", "Black"],
            ["Red", "Blue", "Orange"],
            ["Red", "Blue", "Yellow"],
            ["Red", "Blue", "Green"],
            ["Red", "Blue", "Magenta"],
            ["Red", "Blue", "White"],
            ["Red", "Blue", "Black"],
            ["Red", "Magenta", "Orange"],
            ["Red", "Magenta", "Yellow"],
            ["Red", "Magenta", "Green"],
            ["Red", "Magenta", "Blue"],
            ["Red", "Magenta", "White"],
            ["Red", "Magenta", "Black"],
            ["Red", "White", "Orange"],
            ["Red", "White", "Yellow"],
            ["Red", "White", "Green"],
            ["Red", "Yellow", "Blue"],
            ["Red", "White", "Magenta"],
            ["Red", "White", "Black"],
            ["Red", "Black", "Orange"],
            ["Red", "Black", "Yellow"],
            ["Red", "Black", "Green"],
            ["Red", "Black", "Blue"],
            ["Red", "Black", "Magenta"],
            ["Red", "Black", "White"],
            ["Orange", "Red", "Yellow"],
            ["Orange", "Red", "Green"],
            ["Orange", "Red", "Blue"],
            ["Orange", "Red", "Magenta"],
            ["Orange", "Red", "White"],
            ["Orange", "Red", "Black"],
            ["Orange", "Yellow", "Red"],
            ["Orange", "Yellow", "Green"],
            ["Orange", "Yellow", "Blue"],
            ["Orange", "Yellow", "Magenta"],
            ["Orange", "Yellow", "White"],
            ["Orange", "Yellow", "Black"],
            ["Orange", "Green", "Red"],
            ["Orange", "Green", "Yellow"],
            ["Orange", "Green", "Blue"],
            ["Magenta", "Red", "White"],
            ["Orange", "Green", "White"],
            ["Orange", "Green", "Black"],
            ["Orange", "Blue", "Red"],
            ["Orange", "Blue", "Yellow"],
            ["Orange", "Blue", "Green"],
            ["Orange", "Blue", "Magenta"],
            ["Orange", "Blue", "White"],
            ["Blue", "Orange", "Magenta"],
            ["Orange", "Magenta", "Red"],
            ["Orange", "Magenta", "Yellow"],
            ["Orange", "Magenta", "Green"],
            ["Orange", "Magenta", "Blue"],
            ["Orange", "Magenta", "White"],
            ["Orange", "Magenta", "Black"],
            ["Orange", "White", "Red"],
            ["Orange", "White", "Yellow"],
            ["Green", "Red", "White"],
            ["Orange", "White", "Blue"],
            ["Orange", "White", "Magenta"],
            ["Orange", "White", "Black"],
            ["Orange", "Black", "Red"],
            ["Orange", "Black", "Yellow"],
            ["Blue", "Black", "Red"],
            ["Orange", "Black", "Blue"],
            ["Orange", "Black", "Magenta"],
            ["Orange", "Black", "White"],
            ["Yellow", "Red", "Orange"],
            ["Yellow", "Red", "Green"],
            ["Yellow", "Red", "Blue"],
            ["Yellow", "Red", "Magenta"],
            ["Yellow", "Red", "White"],
            ["Yellow", "Red", "Black"],
            ["Yellow", "Orange", "Red"],
            ["Yellow", "Orange", "Green"],
            ["Yellow", "Orange", "Blue"],
            ["Yellow", "Orange", "Magenta"],
            ["Yellow", "Orange", "White"],
            ["Yellow", "Orange", "Black"],
            ["Yellow", "Green", "Red"],
            ["Yellow", "Green", "Orange"],
            ["White", "Blue", "Green"],
            ["Yellow", "Green", "Magenta"],
            ["Yellow", "Green", "White"],
            ["Yellow", "Green", "Black"],
            ["Yellow", "Blue", "Red"],
            ["Yellow", "Blue", "Orange"],
            ["Yellow", "Blue", "Green"],
            ["Yellow", "Blue", "Magenta"],
            ["Yellow", "Blue", "White"],
            ["Yellow", "Blue", "Black"],
            ["Yellow", "Magenta", "Red"],
            ["Yellow", "Magenta", "Orange"],
            ["Yellow", "Magenta", "Green"],
            ["Yellow", "Magenta", "Blue"],
            ["Yellow", "Magenta", "White"],
            ["Yellow", "Magenta", "Black"],
            ["Yellow", "White", "Red"],
            ["Yellow", "White", "Orange"],
            ["Black", "White", "Green"],
            ["Yellow", "White", "Blue"],
            ["Yellow", "White", "Magenta"],
            ["Yellow", "White", "Black"],
            ["Yellow", "Black", "Red"],
            ["Yellow", "Black", "Orange"],
            ["Yellow", "Black", "Green"],
            ["Yellow", "Black", "Blue"],
            ["Yellow", "Black", "Magenta"],
            ["Yellow", "Black", "White"],
            ["Green", "Red", "Orange"],
            ["Green", "Red", "Yellow"],
            ["Green", "Red", "Blue"],
            ["Green", "Red", "Magenta"],
            ["Orange", "White", "Green"],
            ["Green", "Red", "Black"],
            ["Green", "Orange", "Red"],
            ["Green", "Orange", "Yellow"],
            ["Magenta", "White", "Orange"],
            ["Green", "Orange", "Magenta"],
            ["Red", "Orange", "Yellow"],
            ["Green", "Orange", "Black"],
            ["Green", "Yellow", "Red"],
            ["Green", "Yellow", "Orange"],
            ["Green", "Yellow", "Blue"],
            ["Green", "Yellow", "Magenta"],
            ["Green", "Yellow", "White"],
            ["Green", "Yellow", "Black"],
            ["Green", "Blue", "Red"],
            ["Green", "Blue", "Orange"],
            ["Green", "Blue", "Yellow"],
            ["Green", "Blue", "Magenta"],
            ["Green", "Blue", "White"],
            ["Green", "Blue", "Black"],
            ["Green", "Magenta", "Red"],
            ["Green", "Magenta", "Orange"],
            ["Green", "Magenta", "Yellow"],
            ["Green", "Magenta", "Blue"],
            ["Green", "Magenta", "White"],
            ["Green", "Magenta", "Black"],
            ["Green", "White", "Red"],
            ["Green", "White", "Orange"],
            ["Green", "White", "Yellow"],
            ["Green", "White", "Blue"],
            ["Green", "White", "Magenta"],
            ["Green", "White", "Black"],
            ["Green", "Black", "Red"],
            ["Green", "Black", "Orange"],
            ["Green", "Black", "Yellow"],
            ["Green", "Black", "Blue"],
            ["Green", "Black", "Magenta"],
            ["Green", "Black", "White"],
            ["Blue", "Red", "Orange"],
            ["Blue", "Red", "Yellow"],
            ["Blue", "Red", "Green"],
            ["Blue", "Red", "Magenta"],
            ["Blue", "Red", "White"],
            ["Blue", "Red", "Black"],
            ["Blue", "Orange", "Red"],
            ["Blue", "Orange", "Yellow"],
            ["Blue", "Orange", "Green"],
            ["Orange", "Blue", "Black"],
            ["Blue", "Orange", "White"],
            ["Blue", "Orange", "Black"],
            ["Blue", "Yellow", "Red"],
            ["Blue", "Yellow", "Orange"],
            ["Blue", "Yellow", "Green"],
            ["Blue", "Yellow", "Magenta"],
            ["Blue", "Yellow", "White"],
            ["Blue", "Yellow", "Black"],
            ["White", "Yellow", "Blue"],
            ["Blue", "Green", "Orange"],
            ["Blue", "Green", "Yellow"],
            ["Blue", "Green", "Magenta"],
            ["Blue", "Green", "White"],
            ["Blue", "Green", "Black"],
            ["Black", "Yellow", "Blue"],
            ["Blue", "Magenta", "Orange"],
            ["Blue", "Magenta", "Yellow"],
            ["Blue", "Magenta", "Green"],
            ["Blue", "Magenta", "White"],
            ["Blue", "Magenta", "Black"],
            ["Blue", "White", "Red"],
            ["Blue", "White", "Orange"],
            ["Blue", "White", "Yellow"],
            ["Blue", "White", "Green"],
            ["Blue", "White", "Magenta"],
            ["Blue", "White", "Black"],
            ["Orange", "Black", "Green"],
            ["Blue", "Black", "Orange"],
            ["Blue", "Black", "Yellow"],
            ["Magenta", "Yellow", "Black"],
            ["Blue", "Black", "Magenta"],
            ["Blue", "Black", "White"],
            ["Magenta", "Red", "Orange"],
            ["Magenta", "Red", "Yellow"],
            ["Magenta", "Red", "Green"],
            ["Magenta", "Red", "Blue"],
            ["Orange", "Green", "Magenta"],
            ["Magenta", "Red", "Black"],
            ["Magenta", "Orange", "Red"],
            ["Magenta", "Orange", "Yellow"],
            ["Magenta", "Orange", "Green"],
            ["Magenta", "Orange", "Blue"],
            ["Magenta", "Orange", "White"],
            ["Magenta", "Orange", "Black"],
            ["Magenta", "Yellow", "Red"],
            ["Magenta", "Yellow", "Orange"],
            ["Magenta", "Yellow", "Green"],
            ["Magenta", "Yellow", "Blue"],
            ["Magenta", "Yellow", "White"],
            ["Blue", "Black", "Green"],
            ["Magenta", "Green", "Red"],
            ["Magenta", "Green", "Orange"],
            ["Magenta", "Green", "Yellow"],
            ["Magenta", "Green", "Blue"],
            ["Magenta", "Green", "White"],
            ["Magenta", "Green", "Black"],
            ["Magenta", "Blue", "Red"],
            ["Magenta", "Blue", "Orange"],
            ["Magenta", "Blue", "Yellow"],
            ["Magenta", "Blue", "Green"],
            ["Magenta", "Blue", "White"],
            ["Magenta", "Blue", "Black"],
            ["Magenta", "White", "Red"],
            ["Green", "Orange", "Blue"],
            ["Magenta", "White", "Yellow"],
            ["Magenta", "White", "Green"],
            ["Magenta", "White", "Blue"],
            ["Magenta", "White", "Black"],
            ["Magenta", "Black", "Red"],
            ["Magenta", "Black", "Orange"],
            ["Magenta", "Black", "Yellow"],
            ["Magenta", "Black", "Green"],
            ["Magenta", "Black", "Blue"],
            ["Magenta", "Black", "White"],
            ["White", "Red", "Orange"],
            ["White", "Red", "Yellow"],
            ["White", "Red", "Green"],
            ["White", "Red", "Blue"],
            ["White", "Red", "Magenta"],
            ["White", "Red", "Black"],
            ["White", "Orange", "Red"],
            ["White", "Orange", "Yellow"],
            ["White", "Orange", "Green"],
            ["White", "Orange", "Blue"],
            ["White", "Orange", "Magenta"],
            ["White", "Orange", "Black"],
            ["White", "Yellow", "Red"],
            ["White", "Yellow", "Orange"],
            ["White", "Yellow", "Green"],
            ["Blue", "Green", "Red"],
            ["White", "Yellow", "Magenta"],
            ["White", "Yellow", "Black"],
            ["White", "Green", "Red"],
            ["White", "Green", "Orange"],
            ["White", "Green", "Yellow"],
            ["White", "Green", "Blue"],
            ["White", "Green", "Magenta"],
            ["White", "Green", "Black"],
            ["White", "Blue", "Red"],
            ["White", "Blue", "Orange"],
            ["White", "Blue", "Yellow"],
            ["Yellow", "Green", "Blue"],
            ["White", "Blue", "Magenta"],
            ["White", "Blue", "Black"],
            ["White", "Magenta", "Red"],
            ["White", "Magenta", "Orange"],
            ["White", "Magenta", "Yellow"],
            ["White", "Magenta", "Green"],
            ["White", "Magenta", "Blue"],
            ["White", "Magenta", "Black"],
            ["White", "Black", "Red"],
            ["White", "Black", "Orange"],
            ["White", "Black", "Yellow"],
            ["White", "Black", "Green"],
            ["White", "Black", "Blue"],
            ["White", "Black", "Magenta"],
            ["Black", "Red", "Orange"],
            ["Black", "Red", "Yellow"],
            ["Black", "Red", "Green"],
            ["Black", "Red", "Blue"],
            ["Black", "Red", "Magenta"],
            ["Black", "Red", "White"],
            ["Black", "Orange", "Red"],
            ["Black", "Orange", "Yellow"],
            ["Black", "Orange", "Green"],
            ["Black", "Orange", "Blue"],
            ["Black", "Orange", "Magenta"],
            ["Black", "Orange", "White"],
            ["Black", "Yellow", "Red"],
            ["Black", "Yellow", "Orange"],
            ["Black", "Yellow", "Green"],
            ["Blue", "Magenta", "Red"],
            ["Black", "Yellow", "Magenta"],
            ["Black", "Yellow", "White"],
            ["Black", "Green", "Red"],
            ["Black", "Green", "Orange"],
            ["Black", "Green", "Yellow"],
            ["Black", "Green", "Blue"],
            ["Black", "Green", "Magenta"],
            ["Black", "Green", "White"],
            ["Black", "Blue", "Red"],
            ["Black", "Blue", "Orange"],
            ["Black", "Blue", "Yellow"],
            ["Black", "Blue", "Green"],
            ["Black", "Blue", "Magenta"],
            ["Black", "Blue", "White"],
            ["Black", "Magenta", "Red"],
            ["Black", "Magenta", "Orange"],
            ["Black", "Magenta", "Yellow"],
            ["Black", "Magenta", "Green"],
            ["Black", "Magenta", "Blue"],
            ["Black", "Magenta", "White"],
            ["Black", "White", "Red"],
            ["Black", "White", "Orange"],
            ["Black", "White", "Yellow"],
            ["Yellow", "White", "Green"],
            ["Black", "White", "Blue"],
            ["Black", "White", "Magenta"],
        ];

        var rule4Rules = [
            "For the number of battery holders:",
            "For the number of port plates:",
            "For the number of distinct port types:",
            "For the number of batteries:",
            "For the total number of ports:",
            "For the first serial number digit:",
            "For the last serial number digit:"
        ];

        var twofactorOperation = [ "Subtract", "Add" ];

        var twofactorRules = [
            "the most<br>significant digit.",
            "the least<br>significant digit."
        ];

        var clockwiserule = [
            "*If circle is spinning counter-clockwise, reverse order of button presses.",
            "*If circle is spinning clockwise, reverse order of button presses."
        ];

        function setDefaultRules(rnd)
        {
            setRules(rnd);
        }

        function setRules(rnd)
        {
            var colors = ["Red","Orange","Yellow","Green","Blue","Magenta","White","Black"];

            var rules = rnd.shuffleArray(possibleColorSets).slice(0, 12);
            var indicators = rnd.shuffleArray(["SIG", "BOB", "TRN", "CAR", "CLR", "NSA", "MSA", "SND", "IND", "FRQ", "FRK"]);
            var indicatorscores = [rnd.next(0, 2) == 1 ? "+1 if lit, -1 if unlit." : "-1 if lit, +1 if unlit.",
                                    rnd.next(0, 2) == 1 ? "+2 if lit, -2 if unlit." : "-2 if lit, +2 if unlit.",
                                    rnd.next(0, 2) == 1 ? "+3 if lit, -3 if unlit." : "-3 if lit, +3 if unlit."];

            document.getElementById('indicator1').innerHTML = "For each " + indicators[0] + ", " + indicators[1] + ", or " + indicators[2] + "<br>indicator:";
            document.getElementById('indicatorscore1').innerHTML = indicatorscores[0];

            document.getElementById('indicator2').innerHTML = "For each " + indicators[3] + ", " + indicators[4] + ", " + indicators[6] + ", or " + indicators[7] + "<br>indicator:";
            document.getElementById('indicatorscore2').innerHTML = indicatorscores[1];

            document.getElementById('indicator3').innerHTML = "For each " + indicators[8] + ", " + indicators[9] + ", or " + indicators[10] + "<br>indicator:";
            document.getElementById('indicatorscore3').innerHTML = indicatorscores[2];

            var modulescore = rnd.next(0, 2) == 1 ? "+3 each." : "-3 each.";
            document.getElementById('modulescore').innerHTML = modulescore;

            var PortRules1 = rnd.shuffleArray(["parallel port", "serial port"]);
            document.getElementById('portplate1').innerHTML = "There are port plates with<br>" + PortRules1[0] + ":";
            document.getElementById('portplatescore1').innerHTML = (rnd.next(0, 2) == 1 ? "+5 each, -4 if paired<br>with " : "-5 each, +4 if paired<br>with ") + PortRules1[1];

            var PortRules2 = rnd.shuffleArray(["DVI-D", "Stereo RCA", "PS/2 port", "RJ-45"]);
            document.getElementById('portplate2').innerHTML = "There are port plates with<br>" + PortRules2[0] + ":";
            document.getElementById('portplatescore2').innerHTML = (rnd.next(0, 2) == 1 ? "+5 each, -4 if paired<br>with "  : "-5 each, +4 if paired<br>with ") + PortRules2[1];

            document.getElementById('rule4').innerHTML = rule4Rules[rnd.next(0, 7)];
            document.getElementById('rule4score').innerHTML = rnd.next(0, 2) == 1 ? "-4 for odd, +4 for even." : "+4 for odd, -4 for even.";

            document.getElementById('specialindicatorscore').innerHTML = rnd.next(0, 2) == 1 ? "+6 each." : "-6 each.";
            document.getElementById('specialportscore').innerHTML = rnd.next(0, 2) == 1 ? "+6 each." : "-6 each.";

            var twofactordigit = twofactorRules[rnd.next(0, 2)];
            document.getElementById('twofactor').innerHTML = twofactorOperation[rnd.next(0, 2)] + " " + twofactordigit;

            document.getElementById('circleclockwiserule').innerHTML = clockwiserule[rnd.next(0, 2)];

            var serialnumberletters = rnd.shuffleArray(["M","C","X","P","O","D","N","Y","J","7","W","G","1","9","8","4","F","2","Q","R","V","3","B","L","E","A","5","6","K","T","U","I","Z","-0-","H","S"]);

            var list = document.getElementById('ruleset').getElementsByClassName('color-group');
            for (var i = 0; i < list.length; i++)
                list[i].innerText = rules[i].join(', ');

            list = document.getElementById('ruleset').getElementsByClassName('serial-group');
            for (var i = 0; i < list.length; i++)
                list[i].innerText = [serialnumberletters[(i * 3) + 0],serialnumberletters[(i * 3) + 1],serialnumberletters[(i * 3) + 2]].join(', ');
        }

         */
    </script>
</body>
</html>
